# Makefile for the proximal bundle method DBDC with COX's PROPORTIONAL HAZARDS MODEL

#FF = f95
FF = gfortran 
#FFLAGS = 
FFLAGS = -fbounds-check -Wall
OPEN = 
#OPEN =  -fopenmp 
#RM = del   #in windows
RM = rm    #in unix/linux/mac

all: tdbdc

tdbdc: kaikki.o tdbdc.o plqdf1.o 
	$(FF) -o tdbdc $(FFLAGS) $(OPEN) kaikki.o tdbdc.o plqdf1.o 
	
kaikki.o: kaikki.f95
	$(FF) -c $(FFLAGS) $(OPEN) kaikki.f95 
	
tdbdc.o: kaikki.o tdbdc.f95
	$(FF) -c $(FFLAGS) $(OPEN) tdbdc.f95 
	
plqdf1.o: plqdf1.f
	$(FF) -c $(FFLAGS) $(OPEN) plqdf1.f 
	
clean:	
	$(RM) tdbdc constants.mod bundle1.mod bundle2.mod functions.mod dbdc.mod blasso.mod kaikki.o plqdf1.o  
	echo Clean done